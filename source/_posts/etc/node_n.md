---
title: 'Node.jsのバージョン管理 n'
date: 2020-07-23 17:30:00
tags:
- Node.js
- パッケージ管理
- バージョン切替
categories:
- '1 LinuxとNodejsでプログラミング'
- 'c) Node.jsをインストールする'
excerpt: 'JavaScript実行環境Node.jsは複数のバージョンをインストールすることができます。今回はバージョン管理nを用いて複数のNode.jsを運用する手順について調べてみました。'
cover_image : images/nodejs.png
pid: package_n
---

## JavaScript環境Node.jsのバージョンアップ
![nodejs](https://burturki.sirv.com/diy/nodejs.png?w=300)

Node.jsと他の開発環境の依存関係を整理するため、Linuxの再インストールを行っていました。そうしたところ、Node.jsのバージョンが2020年の春先から上がっていることに気づきました。

|              |           2020May16            |           2020July23           |
| :----------: | :----------------------------: | :----------------------------: |
|     node     |            12.18.2             |             14.6.0             |
|     npm      |             6.14.5             |             6.14.5             |
| git version  |             2.20.1             |             2.20.1             |
|   hexo-cli   |             3.1.0              |             3.1.0              |
|      os      | Linux 4.19.0-9-amd64 linux x64 | Linux 4.19.0-9-amd64 linux x64 |
|    node:     |            12.16.3             |             14.5.0             |
|      v8      |       7.8.279.23-node.35       |       8.3.110.9-node.23        |
|     uv:      |             1.34.2             |             1.38.0             |
|     zlib     |             1.2.11             |             1.2.11             |
|    brotli    |             1.0.7              |             1.0.7              |
|     ares     |             1.16.0             |             1.16.0             |
|   modules    |               72               |               83               |
|   nghttp2    |             1.40.0             |             1.41.0             |
|     napi     |               5                |               6                |
|   llhttp:    |             2.0.4              |             2.0.4              |
| http_parser: |             2.9.3              |             2.9.3              |
|   openssl:   |             1.1.1g             |             1.1.1g             |
|    cldr:     |              36.0              |              37.0              |
|     icu:     |              65.1              |              67.1              |
|     tz:      |             2019c              |             2020a              |
|   unicode:   |              12.1              |              13.0              |

そこでNode.jsの作成済プログラムを各バージョンで動作検証するため、複数のNode.jsをバージョンを切り替えて管理する方法がないか調べてみました。

## バージョン管理nでNode.jsを管理する

調べてみたところ、複数バージョンのNode.jsを管理する方法はいろいろあるようなのですが、`npm install`コマンドだけでインストールできるパッケージ管理ツールnを使用してみました。

> [参考サイト：システムのNode.jsをバージョン管理する](https://tadtadya.com/n-version-control-of-system-nodejs/)

このサイトを参考に、最新版と安定版のNode.jsの切替を行ってみました。

## インストールに必要なコマンド

npm

## インストール手順

インストールは、下記の手順による行います。

1. npmコマンドでnをインストールする

```bash
# Linux Debian 10, as root
npm install n -g
```

## 使用方法

バージョン管理ツールnを使ったNode.jsの管理には、コマンドnを用います。

### バージョン確認

**ダウンロード可能パッケージのバージョン確認方法**

コマンド`n ls-remote`を用いて行います。

**ダウンロード済パッケージのバージョン確認方法**

コマンド`n ls`を用いて確認します。

### インストール方法

**最新版パッケージのインストール方法**

コマンド`n latest`を用いて行います。

**安定版パッケージのインストール方法**

コマンド`n lts`を用いて行います。

### バージョン切替

**インストール済のパッケージ切替方法**

コマンド`n`を実行して、ダウンロード済みバージョンを矢印キーで切り替えて、変更します。

```
ο node/12.18.3
  node/14.6.0

Use up/down arrow keys to select a version, return key to install, d to delete, q to quit
```

## まとめ

Node.jsのバージョン管理にnを用いると、簡単にバージョン切替ができることが分かりました。

またnpmコマンドでインストールできるn以外にも、nvmやnodebrew、nodeenvなどいろいろな方法があることが、後から調べて分かりましたので、必要に応じてトライしようと思いました。

