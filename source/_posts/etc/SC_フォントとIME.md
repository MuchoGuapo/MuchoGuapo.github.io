---
title: '文字表示と文字入力 システムフォント・入力メソッド'
date: 2020-05-18 17:30:00
tags:
- システムフォント
- 入力メソッド
categories:
- 'etc Linuxプログラミング実践'
- 'b) Linuxの操作Tips'
excerpt: 'プログラミングや文章作成を効率よく行うためには、表示フォントと入力メソッドの整備が欠かせません。Linux Debian10のデスクトップ環境Cinnamonで、システムフォントと入力メソッドをユーザー設定してみました。'
cover_image : images/linux.png
pid: system-font_ime
---


## Linuxの入力環境整備
![linux](https://burturki.sirv.com/diy/linux.png?w=300)

プログラミングや文章をLinux上で効率よく行うためには、フォントと入力方法の整備が欠かせません。文字入力に関する設定でシステムフォントや入力メソッドの整備を行うことができます。

## システムフォント
Linuxのインストール直後のデフォルト状態で英語と日本語を混在表示させると、フォント表示のバランスが崩れることがあります。

表示バランスの崩れは、アルファベットのフォントと日本語フォントが異なるデフォルト設定であることが原因ですが、システムフォントをカスタム設定できます。

システムフォント設定を行うためには、メニュー > 設定 > フォントを開いて、フォントの選択から、デフォルト・デスクトップ・ウィンドウタイトル・ドキュメントの各フォントをカスタム設定します。

今回上記フォントを「VL Pゴシック Regular 10pt」とし、等幅フォントを「VLゴシック Regular 10pt」に設定しました。

## 表示フォントと入力メソッドの整備
Linux Debian10のインストール当初、アルファベットと日本語フォントを混在させて表示すると文字バランスが崩れていました。そこで、日英フォントの混在表示時に統一感が出るようフォント設定を統一してみました。

また英字入力と日本語入力をスムーズに切り替えるため、入力メソッドをibusからMozcに変更しました。Mozcのキーボードショートカット設定を変更して、変換に関するショートカットキーをスペースキーの周りに配置しました。

## 表示フォント設定

Linux Debian10ではGNOME、KDEやCinnamonなどのデスクトップ環境を選ぶことができます。

デスクトップ環境Cinnamonのインストール当初、アルファベットと日本語フォントを混在表示したところ文字バランスが崩れていたため、フォントのバランスが崩れる原因について調べてみました。

Cinnamonのフォントの初期設定は、アルファベット用のフォントと、日本語用のフォントがそれぞれ異なり、これが原因であることが分かりました。

そのため、システム表示バランスの崩れはフォント設定を統一化すれば治ることがわかったため、デフォルト、デスクトップ、ドキュメント、ウィンドウタイトル、それぞれフォント設定を修正しました。

### システムフォント設定

メニュー > 設定から「フォント」を開き「フォントの選択」からフォントを変更します。

### フォント設定内容

フォント設定を統一して、アルファベットと日本語の混在時に違和感がないようにしました。

**デフォルト・デスクトップ・ウィンドウタイトル・ドキュメント**

VL Pゴシック Regular 10pt

**等幅フォント**

VLゴシック Regular 10pt

## 入力メソッド

Linuxでは入力メソッドをibusやfcitx、Mozcと切り替えることができます。

LinuxのDebian/Ubuntu系では、デフォルトの入力メソッドにibusが設定されます。デフォルトの入力メソッドはibusとなっており、アルファベットと日本語の入力切り替えを<kbd>半角/全角</kbd>キーで行います。

入力操作の効率を考えた場合、左上隅の<kbd>半角/全角</kbd>キーを押すのではなく、スペースキーの周辺のショートカットキーで切り替えた方が手の動きが少なく、スムーズに操作できます。

遊んでいる親指を有効に使って入力切り替えが行えるよう、スペースキーの両サイドにある<kbd>無変換</kbd>キー・<kbd>変換</kbd>キーにの<kbd>半角/全角</kbd>キーの切り替え機能を割り付けてみました。

キーボード割付の変更はibusではキーバインドを変更するしかなかったのですが、Debian10では入力メソッドをibusからMozcに変更でき、Mozcの機能を利用してキーボードショートカットを変更・追加・削除してみました。

### 入力メソッドの変更を有効化

**手順**

* 入力メソッドのユーザー設定を有効にし、Mozcを有効にする

**設定方法**

メニュー > 設定から、（白いアイコンの）入力メソッドを表示し、以下のように設定します。

* (1) インプットメソッド設定 > OK
* (2) 明示的にユーザー設定 > YES
* (3) ユーザー設定 > default
* (4) defaultの確認画面 > OK


### ibusからMozcに変更する

**手順**

* 入力メソッドをMozcに変更し、キーボードショートカットを設定

**設定方法**

まずメニュー > 設定から、（青いアイコンの）入力メソッドを表示します。

次に、左側にあるメニューグループから、mozc key bindingsを選択して、以下のように設定します。

* (1) [Mozc] on -> Henkan_Mode（変換キー）を追加
* (2) [Mozc] off -> Muhenkan（無変換キー）を追加

### その他の入力モード切替

入力モードの切り替えは、<kbd>無変換</kbd>と<kbd>変換</kbd>を押して切り替える以外にも、<kbd>SHIFT</kbd>と<kbd>SPACE</kbd>を同時に押して切り替えることができます。

３言語以上の多言語を切り替える場合には、<kbd>SHIFT</kbd>と<kbd>SPACE</kbd>を繰り返し押し、順次切り替えます。

### キーバインドの確認方法

キーの組み合わせや特殊キーの割付など、現在のキーバインドを調べるにはコマンド`xmodmap -pke`を用いて行います。

## まとめ

表示フォントと入力メソッドの設定を適切に設定すると、入力作業に関する操作性が大幅に向上し、作業能率を大幅に向上させることができました。